<html>
  <head>
      <title>Villa Cortijo Adalus</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" type="text/css" href="malaga.css">
      <script type="text/javascript" src="js.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
      <link rel="icon" type="favicon.ico" href="favicon.ico">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" />

  </head>
  <body>
    <div class="header">
      <div class="language-switcher" id="language-switcher">
            <div class="flag uk"></div>
            <div class="flag es"></div>
        </div>
      <div class="headerImage">
        <img src="9x/Asset111.jpg" alt="malaga header image">
      </div>
    </div>
    <div class="intro">
      <div class="introContainer">
        <div class="introDiv1">
          <div class="introCol1">
            <div class="introCol11">
              <h1 data-en="Relax with family and friends in the middle of rural Andalusia." data-es="Relájate con familiares y amigos en plena Andalucía rural.">Relax with family and friends in the middle of rural Andalusia.</h1>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In efficitur sem id diam lobortis congue. Sed finibus felis eget nulla lacinia lacinia. Duis tincidunt fringilla ipsum eget mattis. Quisque interdum auctor nisl, a faucibus metus consequat a. Quisque eget blandit augue. Nullam commodo urna in vehicula feugiat.</p>
            </div>
          </div>
          <div class="introCol2">
            <img alt="cordoba" src="9x/asset15.jpg">
          </div>
        </div>
        <div class="introDiv2">
          <div class="introCol2">
            <img alt="cordoba" src="9x/asset17.jpg">
          </div>
          <div class="introCol1">
            <div class="introCol12">
              <h1 data-en="Just 6km from Iznajar and just an hours drive from Cordoba, Malaga and Granada." data-es="A tan sólo 6km de Iznájar y a tan sólo una hora en coche de Córdoba, Málaga y Granada.">Just 6km from Iznajar and just an hours drive from Cordoba, Malaga and Granada.</h1>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In efficitur sem id diam lobortis congue. Sed finibus felis eget nulla lacinia lacinia. Duis tincidunt fringilla ipsum eget mattis. Quisque interdum auctor nisl, a faucibus metus consequat a. Quisque eget blandit augue. Nullam commodo urna in vehicula feugiat.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="gallery">
      <div class="slideshow-wrapper">
        <button class="nav prev" onclick="previousSlide()">&#10094;</button>
        <div class="slideshow">
          <div class="slide"><img src="9x/asset20.jpg" alt="Image 1"></div>
          <div class="slide"><img src="9x/asset21.jpg" alt="Image 2"></div>
          <div class="slide"><img src="9x/asset26.jpg" alt="Image 3"></div>
          <div class="slide"><img src="9x/asset23.jpg" alt="Image 4"></div>
          <div class="slide"><img src="9x/asset25.jpg" alt="Image 5"></div>
          <div class="slide"><img src="9x/asset24.jpg" alt="Image 6"></div>
          <div class="slide"><img src="9x/asset22.jpg" alt="Image 7"></div>
          <div class="slide"><img src="9x/asset27.jpg" alt="Image 8"></div>
        </div>
        <button class="nav next" onclick="nextSlide()">&#10095;</button>
      </div>
    </div>
    <div class="calendartext">
      <h1>Preview check-in date</h1>
      <!--!<p>Contact Stefan for exact pricing</p>--->
    </div>
    <div id="calendar"></div>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/ical.js/1.3.0/ical.min.js"></script>
      <script src="script.js"></script>
    <div class="calendarprice">
      <h2>Weekly price</h2>
      <p>June-September: £xxxx</p>
      <p>October-May: £xxxx</p>
    </div>
    <div class="calendarselect">
      <p><a style="color:white;"href="mailto:stefbala@yahoo.com" target=“_blank”>Contact Stefan</a></p>
    </div>
    <div class="description" id="about">
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis tincidunt massa nulla, ut pellentesque arcu aliquam id. Ut purus mi, dapibus sed dapibus vitae, maximus eget odio. In id quam a libero fermentum blandit at eget elit. Mauris eleifend interdum magna feugiat elementum. Nam posuere augue eget vestibulum egestas.
        Donec nec risus erat. Nullam sem diam, tristique nec neque id, vestibulum elementum enim. Maecenas eu
        Donec nec risus erat. Nullam sem diam, tristique nec neque id, vestibulum elementum enim. Maecenas eu dignissim massa, id rhoncus nisl. Fusce quis mi sed erat feugiat convallis ac sed dui. Vestibulum laoreet sapien vitae turpis malesuada placerat. Praesent nunc arcu, placerat ac dolor id, tempor dignissim est. Aenean placerat
        purus vitae tortor posuere, ut fringilla felis sodales.<br><br>
        Morbi quis sagittis ligula. Donec libero ante, rutrum vel mauris vulputate, posuere porta felis. Nunc sit amet laoreet elit. Maecenas cursus efficitur neque a volutpat. Aenean justo orci, interdum quis lorem id, dictum scelerisque massa. Nulla quis velit purus. Ut facilisis sollicitudin lacus, eu malesuada mi. Cras tempor elit vel
        ligula tempus malesuada. Donec vel nulla eros. Nulla laoreet sit amet sapien ac laoreet. Vestibulum sollicitudin id turpis id lobortis.
      </p>
    </div>
    <div class="info">
      <div class="infoSec1">
        <img alt="info1" src="9x/Asset61.png">
      </div>
      <div class="infoSec2">
        <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12694.901640539842!2d-4.3104241!3d37.3016412!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd6d86a9768bf921%3A0x21d14ea97088f02f!2sVilla%20Cortijo%20Andalus!5e0!3m2!1sen!2suk!4v1720363267098!5m2!1sen!2suk" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>
  <div class="reviewfinal" id="reviews">
    <div class="review1">
      <div class="person">
        <img src="9x/asset41.png" alt="person1" style="border-radius: 50%;">
        </div>
        <div class="nameperson">
        <h4>Angel</h4>
        </div>
    </div>
    <div class="review2">
      <img src="9x/asset55.png" alt="person1" style="">
      <p style="font-size:90%; margin: 0 0 0 1vw;">January 2024</p>
    </div>
    <div class="review3">
      The cortijo is IDEAL, it falls short looking only at the pictures. It is totally huge and has many rooms, almost all with a radiant floor. The outside is beautiful and the main living room with fireplace is a very charming place. We had a nice celebration and it was great. The deal with Bruno was perfect, super friendly and attentive. It allowed us flexibility to bring things ahead and I prepared the whole house great for us (cleanliness, incense and details). I provide anything that was missing and was always available on the phone. We were generally surprised by the good weekend we kicked out, we can't wait to repeat!
    </div>
  </div>
  <div class="reviewfinal">
    <div class="review1">
      <div class="person">
        <img src="9x/asset43.png" alt="person1" style="border-radius: 50%;">
        </div>
        <div class="nameperson">
        <h4>Julian</h4>
        </div>
    </div>
    <div class="review2">
      <img src="9x/asset55.png" alt="person1" style="">
      <p style="font-size:90%; margin: 0 0 0 1vw;">June 2023</p>
    </div>
    <div class="review3">
    We really enjoyed our stay at Stefan’s place! We were a group of 14 people and loved the spacious and remote setting. It’s perfect for a chilled vacation by the pool as well as activities such as table tennis or basketball in the yard. And with only a 10 min car ride to the supermarket and town, you have everything you need nearby. Would recommend 100% and it’s even better than on the pictures :-)
    </div>
  </div>
  <div class="reviewfinal" style="margin:0 0 10vh 0;">
    <div class="review1">
      <div class="person">
        <img src="9x/asset44.png" alt="person1" style="border-radius: 50%;">
        </div>
        <div class="nameperson">
        <h4>Luisa</h4>
        </div>
    </div>
    <div class="review2">
      <img src="9x/asset55.png" alt="person1" style="">
      <p style="font-size:90%; margin: 0 0 0 1vw;">August 2022</p>
    </div>
    <div class="review3">
      We were a group of 15 young people and our stay at cortijo Andalus was amazing! The place is so huge and we loved the Moroccain decoration and the whole atmosphere. There are countless spots where you can hang out together or completely get your privacy even with a big group. There is so much space and everything we needed especially in the kitchens was available, that was really comfortable! We loved the paella pan outside that was so useful, as well as the gym area and the table tennis plate!
It was clean in the whole house.
Almost every day the most amazing house keeper Bruno visited us, took the trash, cleaned the pool and gave us every information we needed. If some tourism or restaurant recommendations or something else was needed he helped us always!
The shower cabins were perfect by the way. Good regulation of water temperature as well as clean!
All in all our stay was more than amazing! Thank you so much!
    </div>
  </div>

    <div class="footer">
      <div class="contact">
        <h4>Contact</h4>
        <br>
        <p>stefbala@yahoo.com</p>
        <p>+44 7365 278 781</p>
        <p>Solerche 24, 14970 Iznájar, Córdoba, Spain</p>
      </div>
      <div class="resources">
        <h4>Resources</h4>
        <br>
        <p><a href="#about">About</p>
        <p><a href="#calendar">Calendar</p>
        <p><a href="#reviews">Reviews</p>
      </div>
    </div>
    <div class="popup" id="popup">
        <span class="popup-close" id="popupClose">&times;</span>
        <button class="popup-nav prev" id="popupPrev">&#10094;</button>
        <img class="popup-content" id="popupImg" alt="Popup Image">
        <button class="popup-nav next" id="popupNext">&#10095;</button>
    </div>
  </body>
  <script>
    let currentIndex = 0;
    let popupIndex = 0;
    const totalSlides = 6;

    function showSlide(index) {
      const slideshow = document.querySelector('.slideshow');
      const slidesToShow = 4;
      const maxIndex = totalSlides - slidesToShow;

      if (index > maxIndex) {
        currentIndex = 0;
      } else if (index < 0) {
        currentIndex = maxIndex;
      } else {
        currentIndex = index;
      }

      slideshow.style.transform = `translateX(-${currentIndex * (100 / slidesToShow)}%)`;
    }

    function nextSlide() {
      showSlide(currentIndex + 1);
    }

    function previousSlide() {
      showSlide(currentIndex - 1);
    }

    function showPopupSlide(index) {
      const slides = document.querySelectorAll('.slide img');
      if (index >= totalSlides) {
        popupIndex = 0;
      } else if (index < 0) {
        popupIndex = totalSlides - 1;
      } else {
        popupIndex = index;
      }
      document.getElementById('popupImg').src = slides[popupIndex].src;
    }

    function nextPopupSlide() {
      showPopupSlide(popupIndex + 1);
    }

    function prevPopupSlide() {
      showPopupSlide(popupIndex - 1);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const popup = document.getElementById('popup');
      const popupImg = document.getElementById('popupImg');
      const popupClose = document.getElementById('popupClose');
      const popupNext = document.getElementById('popupNext');
      const popupPrev = document.getElementById('popupPrev');
      const slides = document.querySelectorAll('.slide img');

      slides.forEach((slide, index) => {
        slide.addEventListener('click', (e) => {
          popup.style.display = 'flex';
          setTimeout(() => {
            popup.classList.add('show');
          }, 10); // Add a small delay to trigger the transition
          popupIndex = index;
          popupImg.src = e.target.src;
        });
      });

      popupClose.addEventListener('click', () => {
        popup.classList.remove('show');
        setTimeout(() => {
          popup.style.display = 'none';
        }, 500); // Match the transition duration
      });

      popupNext.addEventListener('click', nextPopupSlide);
      popupPrev.addEventListener('click', prevPopupSlide);

      popup.addEventListener('click', (e) => {
        if (e.target !== popupImg && e.target !== popupNext && e.target !== popupPrev) {
          popup.classList.remove('show');
          setTimeout(() => {
            popup.style.display = 'none';
          }, 500); // Match the transition duration
        }
      });
    });
  </script>
  <script>
  $(document).ready(function() {
      // Replace 'your_ical_url' with the actual iCal URL from Airbnb
      const icalUrl = 'https://www.airbnb.co.uk/calendar/ical/54172009.ics?s=6b901f8f797ec98ddb6026e6f74fb714';
      const proxyUrl = 'https://cors-anywhere.herokuapp.com/';

      // Fetch iCal data using a CORS proxy
      fetch(proxyUrl + icalUrl)
          .then(response => {
              if (!response.ok) {
                  throw new Error('Network response was not ok ' + response.statusText);
              }
              return response.text();
          })
          .then(data => {
              console.log("iCal data fetched successfully");
              const jcalData = ICAL.parse(data);
              const comp = new ICAL.Component(jcalData);
              const vevents = comp.getAllSubcomponents('vevent');

              const events = vevents.map(event => {
                  const summary = event.getFirstPropertyValue('summary');
                  const startDate = event.getFirstPropertyValue('dtstart').toJSDate();
                  const endDate = event.getFirstPropertyValue('dtend').toJSDate();
                  return {
                      title: summary,
                      start: startDate,
                      end: endDate
                  };
              });

              console.log("Events parsed:", events);

              // Initialize FullCalendar
              $('#calendar').fullCalendar({
                  events: events,
                  header: {
                      left: 'prev,next today',
                      center: 'title',
                      right: 'month,agendaWeek,agendaDay'
                  },
                  editable: false,
                  droppable: false,
                  eventLimit: true, // allow "more" link when too many events
              });
          })
          .catch(error => console.error('Error fetching iCal data:', error));
  });
</script>
<script>
       // JavaScript to handle language switching
       const languageSwitcher = document.getElementById('language-switcher');
       const flags = {
           uk: document.querySelector('.flag.uk'),
           es: document.querySelector('.flag.es')
       };
       const contentElements = document.querySelectorAll('[data-en]');

       languageSwitcher.addEventListener('click', () => {
           const isEnglish = flags.uk.style.opacity !== '0';
           if (isEnglish) {
               flags.uk.style.opacity = '0';
               flags.es.style.opacity = '1';
               switchLanguage('es');
           } else {
               flags.uk.style.opacity = '1';
               flags.es.style.opacity = '0';
               switchLanguage('en');
           }
       });

       function switchLanguage(language) {
           contentElements.forEach(element => {
               element.textContent = element.getAttribute(`data-${language}`);
           });
       }

       // Set the initial language based on user's browser setting or default to English
       const userLang = navigator.language || navigator.userLanguage;
       if (userLang.includes('es')) {
           flags.uk.style.opacity = '0';
           flags.es.style.opacity = '1';
           switchLanguage('es');
       }
   </script>

</html>
